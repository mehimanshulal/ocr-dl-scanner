{
  "version": 3,
  "sources": ["../../../../../../node_modules/ngx-image-cropper/fesm2022/ngx-image-cropper.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { signal, EventEmitter, Component, ChangeDetectionStrategy, ViewChild, Input, HostBinding, Output, HostListener } from '@angular/core';\nimport { takeUntil, first } from 'rxjs/operators';\nimport { Subject, merge, fromEvent } from 'rxjs';\nimport { NgIf } from '@angular/common';\nimport * as i1 from '@angular/platform-browser';\nconst _c0 = [\"wrapper\"];\nconst _c1 = [\"sourceImage\"];\nfunction ImageCropperComponent_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 5, 0);\n    i0.ɵɵlistener(\"load\", function ImageCropperComponent_img_1_Template_img_load_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.imageLoadedInView());\n    })(\"mousedown\", function ImageCropperComponent_img_1_Template_img_mousedown_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Drag));\n    })(\"touchstart\", function ImageCropperComponent_img_1_Template_img_touchstart_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Drag));\n    })(\"error\", function ImageCropperComponent_img_1_Template_img_error_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.loadImageError($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const src_r3 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"visibility\", ctx_r1.imageVisible ? \"visible\" : \"hidden\")(\"transform\", ctx_r1.safeTransformStyle);\n    i0.ɵɵclassProp(\"ngx-ic-draggable\", !ctx_r1.disabled && ctx_r1.allowMoveImage);\n    i0.ɵɵproperty(\"src\", src_r3, i0.ɵɵsanitizeUrl);\n    i0.ɵɵattribute(\"alt\", ctx_r1.imageAltText);\n  }\n}\nfunction ImageCropperComponent_div_3_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 9);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_ng_container_2_Template_span_mousedown_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"topleft\"));\n    })(\"touchstart\", function ImageCropperComponent_div_3_ng_container_2_Template_span_touchstart_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"topleft\"));\n    });\n    i0.ɵɵelement(2, \"span\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 11);\n    i0.ɵɵelement(4, \"span\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 12);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_ng_container_2_Template_span_mousedown_5_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"topright\"));\n    })(\"touchstart\", function ImageCropperComponent_div_3_ng_container_2_Template_span_touchstart_5_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"topright\"));\n    });\n    i0.ɵɵelement(6, \"span\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 13);\n    i0.ɵɵelement(8, \"span\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 14);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_ng_container_2_Template_span_mousedown_9_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"bottomright\"));\n    })(\"touchstart\", function ImageCropperComponent_div_3_ng_container_2_Template_span_touchstart_9_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"bottomright\"));\n    });\n    i0.ɵɵelement(10, \"span\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 15);\n    i0.ɵɵelement(12, \"span\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 16);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_ng_container_2_Template_span_mousedown_13_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"bottomleft\"));\n    })(\"touchstart\", function ImageCropperComponent_div_3_ng_container_2_Template_span_touchstart_13_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"bottomleft\"));\n    });\n    i0.ɵɵelement(14, \"span\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 17);\n    i0.ɵɵelement(16, \"span\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 18);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_ng_container_2_Template_span_mousedown_17_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"top\"));\n    })(\"touchstart\", function ImageCropperComponent_div_3_ng_container_2_Template_span_touchstart_17_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"top\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 19);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_ng_container_2_Template_span_mousedown_18_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"right\"));\n    })(\"touchstart\", function ImageCropperComponent_div_3_ng_container_2_Template_span_touchstart_18_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"right\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\", 20);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_ng_container_2_Template_span_mousedown_19_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"bottom\"));\n    })(\"touchstart\", function ImageCropperComponent_div_3_ng_container_2_Template_span_touchstart_19_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"bottom\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\", 21);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_ng_container_2_Template_span_mousedown_20_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"left\"));\n    })(\"touchstart\", function ImageCropperComponent_div_3_ng_container_2_Template_span_touchstart_20_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Resize, \"left\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ImageCropperComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵlistener(\"keydown\", function ImageCropperComponent_div_3_Template_div_keydown_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.keyboardAccess($event));\n    });\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_div_mousedown_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Move));\n    })(\"touchstart\", function ImageCropperComponent_div_3_Template_div_touchstart_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.startMove($event, ctx_r1.moveTypes.Move));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, ImageCropperComponent_div_3_ng_container_2_Template, 21, 0, \"ng-container\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"top\", ctx_r1.state.cropper.y1, \"px\")(\"left\", ctx_r1.state.cropper.x1, \"px\")(\"width\", ctx_r1.state.cropper.x2 - ctx_r1.state.cropper.x1, \"px\")(\"height\", ctx_r1.state.cropper.y2 - ctx_r1.state.cropper.y1, \"px\")(\"margin-left\", ctx_r1.state.options.alignImage === \"center\" ? ctx_r1.marginLeft : null)(\"visibility\", ctx_r1.imageVisible ? \"visible\" : \"hidden\");\n    i0.ɵɵclassProp(\"ngx-ic-round\", ctx_r1.state.options.roundCropper);\n    i0.ɵɵattribute(\"aria-label\", ctx_r1.state.options.cropperFrameAriaLabel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.state.options.hideResizeSquares && !(ctx_r1.state.options.cropperStaticWidth && ctx_r1.state.options.cropperStaticHeight));\n  }\n}\nfunction checkCropperPosition(cropperPosition, cropperState, maintainSize) {\n  cropperPosition = checkCropperSizeRestriction(cropperPosition, cropperState);\n  return checkCropperWithinMaxSizeBounds(cropperPosition, cropperState, maintainSize);\n}\nfunction checkCropperSizeRestriction(cropperPosition, cropperState) {\n  let cropperWidth = cropperPosition.x2 - cropperPosition.x1;\n  let cropperHeight = cropperPosition.y2 - cropperPosition.y1;\n  const centerX = cropperPosition.x1 + cropperWidth / 2;\n  const centerY = cropperPosition.y1 + cropperHeight / 2;\n  if (cropperState.options.cropperStaticHeight && cropperState.options.cropperStaticWidth) {\n    cropperWidth = cropperState.maxSize.width > cropperState.options.cropperStaticWidth ? cropperState.options.cropperStaticWidth : cropperState.maxSize.width;\n    cropperHeight = cropperState.maxSize.height > cropperState.options.cropperStaticHeight ? cropperState.options.cropperStaticHeight : cropperState.maxSize.height;\n  } else {\n    cropperWidth = Math.max(cropperState.cropperScaledMinWidth, Math.min(cropperWidth, cropperState.cropperScaledMaxWidth, cropperState.maxSize.width));\n    cropperHeight = Math.max(cropperState.cropperScaledMinHeight, Math.min(cropperHeight, cropperState.cropperScaledMaxHeight, cropperState.maxSize.height));\n    if (cropperState.options.maintainAspectRatio) {\n      if (cropperState.maxSize.width / cropperState.options.aspectRatio < cropperState.maxSize.height) {\n        cropperHeight = cropperWidth / cropperState.options.aspectRatio;\n      } else {\n        cropperWidth = cropperHeight * cropperState.options.aspectRatio;\n      }\n    }\n  }\n  const x1 = centerX - cropperWidth / 2;\n  const x2 = x1 + cropperWidth;\n  const y1 = centerY - cropperHeight / 2;\n  const y2 = y1 + cropperHeight;\n  return {\n    x1,\n    x2,\n    y1,\n    y2\n  };\n}\nfunction checkCropperWithinMaxSizeBounds(position, cropperState, maintainSize = false) {\n  if (position.x1 < 0) {\n    position = {\n      ...position,\n      x1: 0,\n      x2: position.x2 - (maintainSize ? position.x1 : 0)\n    };\n  }\n  if (position.y1 < 0) {\n    position = {\n      ...position,\n      y2: position.y2 - (maintainSize ? position.y1 : 0),\n      y1: 0\n    };\n  }\n  if (position.x2 > cropperState.maxSize.width) {\n    position = {\n      ...position,\n      x1: position.x1 - (maintainSize ? position.x2 - cropperState.maxSize.width : 0),\n      x2: cropperState.maxSize.width\n    };\n  }\n  if (position.y2 > cropperState.maxSize.height) {\n    position = {\n      ...position,\n      y1: position.y1 - (maintainSize ? position.y2 - cropperState.maxSize.height : 0),\n      y2: cropperState.maxSize.height\n    };\n  }\n  return position;\n}\nfunction moveCropper(event, moveStart) {\n  const diffX = getClientX(event) - moveStart.clientX;\n  const diffY = getClientY(event) - moveStart.clientY;\n  return {\n    x1: moveStart.cropper.x1 + diffX,\n    y1: moveStart.cropper.y1 + diffY,\n    x2: moveStart.cropper.x2 + diffX,\n    y2: moveStart.cropper.y2 + diffY\n  };\n}\nfunction resizeCropper(event, moveStart, cropperState) {\n  const cropperPosition = {\n    ...cropperState.cropper\n  };\n  const moveX = getClientX(event) - moveStart.clientX;\n  const moveY = getClientY(event) - moveStart.clientY;\n  switch (moveStart.position) {\n    case 'left':\n      cropperPosition.x1 = Math.min(Math.max(moveStart.cropper.x1 + moveX, cropperPosition.x2 - cropperState.cropperScaledMaxWidth), cropperPosition.x2 - cropperState.cropperScaledMinWidth);\n      break;\n    case 'topleft':\n      cropperPosition.x1 = Math.min(Math.max(moveStart.cropper.x1 + moveX, cropperPosition.x2 - cropperState.cropperScaledMaxWidth), cropperPosition.x2 - cropperState.cropperScaledMinWidth);\n      cropperPosition.y1 = Math.min(Math.max(moveStart.cropper.y1 + moveY, cropperPosition.y2 - cropperState.cropperScaledMaxHeight), cropperPosition.y2 - cropperState.cropperScaledMinHeight);\n      break;\n    case 'top':\n      cropperPosition.y1 = Math.min(Math.max(moveStart.cropper.y1 + moveY, cropperPosition.y2 - cropperState.cropperScaledMaxHeight), cropperPosition.y2 - cropperState.cropperScaledMinHeight);\n      break;\n    case 'topright':\n      cropperPosition.x2 = Math.max(Math.min(moveStart.cropper.x2 + moveX, cropperPosition.x1 + cropperState.cropperScaledMaxWidth), cropperPosition.x1 + cropperState.cropperScaledMinWidth);\n      cropperPosition.y1 = Math.min(Math.max(moveStart.cropper.y1 + moveY, cropperPosition.y2 - cropperState.cropperScaledMaxHeight), cropperPosition.y2 - cropperState.cropperScaledMinHeight);\n      break;\n    case 'right':\n      cropperPosition.x2 = Math.max(Math.min(moveStart.cropper.x2 + moveX, cropperPosition.x1 + cropperState.cropperScaledMaxWidth), cropperPosition.x1 + cropperState.cropperScaledMinWidth);\n      break;\n    case 'bottomright':\n      cropperPosition.x2 = Math.max(Math.min(moveStart.cropper.x2 + moveX, cropperPosition.x1 + cropperState.cropperScaledMaxWidth), cropperPosition.x1 + cropperState.cropperScaledMinWidth);\n      cropperPosition.y2 = Math.max(Math.min(moveStart.cropper.y2 + moveY, cropperPosition.y1 + cropperState.cropperScaledMaxHeight), cropperPosition.y1 + cropperState.cropperScaledMinHeight);\n      break;\n    case 'bottom':\n      cropperPosition.y2 = Math.max(Math.min(moveStart.cropper.y2 + moveY, cropperPosition.y1 + cropperState.cropperScaledMaxHeight), cropperPosition.y1 + cropperState.cropperScaledMinHeight);\n      break;\n    case 'bottomleft':\n      cropperPosition.x1 = Math.min(Math.max(moveStart.cropper.x1 + moveX, cropperPosition.x2 - cropperState.cropperScaledMaxWidth), cropperPosition.x2 - cropperState.cropperScaledMinWidth);\n      cropperPosition.y2 = Math.max(Math.min(moveStart.cropper.y2 + moveY, cropperPosition.y1 + cropperState.cropperScaledMaxHeight), cropperPosition.y1 + cropperState.cropperScaledMinHeight);\n      break;\n    case 'center':\n      const scale = 'scale' in event ? event.scale : 1;\n      const newWidth = Math.min(Math.max(cropperState.cropperScaledMinWidth, Math.abs(moveStart.cropper.x2 - moveStart.cropper.x1) * scale), cropperState.cropperScaledMaxWidth);\n      const newHeight = Math.min(Math.max(cropperState.cropperScaledMinHeight, Math.abs(moveStart.cropper.y2 - moveStart.cropper.y1) * scale), cropperState.cropperScaledMaxHeight);\n      cropperPosition.x1 = moveStart.clientX - newWidth / 2;\n      cropperPosition.x2 = moveStart.clientX + newWidth / 2;\n      cropperPosition.y1 = moveStart.clientY - newHeight / 2;\n      cropperPosition.y2 = moveStart.clientY + newHeight / 2;\n      if (cropperPosition.x1 < 0) {\n        cropperPosition.x2 -= cropperPosition.x1;\n        cropperPosition.x1 = 0;\n      } else if (cropperPosition.x2 > cropperState.maxSize.width) {\n        cropperPosition.x1 -= cropperPosition.x2 - cropperState.maxSize.width;\n        cropperPosition.x2 = cropperState.maxSize.width;\n      }\n      if (cropperPosition.y1 < 0) {\n        cropperPosition.y2 -= cropperPosition.y1;\n        cropperPosition.y1 = 0;\n      } else if (cropperPosition.y2 > cropperState.maxSize.height) {\n        cropperPosition.y1 -= cropperPosition.y2 - cropperState.maxSize.height;\n        cropperPosition.y2 = cropperState.maxSize.height;\n      }\n      break;\n  }\n  if (cropperState.options.maintainAspectRatio) {\n    return checkAspectRatio(moveStart.position, cropperPosition, cropperState);\n  } else {\n    return cropperPosition;\n  }\n}\nfunction checkAspectRatio(position, cropperPosition, cropperState) {\n  cropperPosition = {\n    ...cropperPosition\n  };\n  let overflowX = 0;\n  let overflowY = 0;\n  switch (position) {\n    case 'top':\n      cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * cropperState.options.aspectRatio;\n      overflowX = Math.max(cropperPosition.x2 - cropperState.maxSize.width, 0);\n      overflowY = Math.max(0 - cropperPosition.y1, 0);\n      if (overflowX > 0 || overflowY > 0) {\n        cropperPosition.x2 -= overflowY * cropperState.options.aspectRatio > overflowX ? overflowY * cropperState.options.aspectRatio : overflowX;\n        cropperPosition.y1 += overflowY * cropperState.options.aspectRatio > overflowX ? overflowY : overflowX / cropperState.options.aspectRatio;\n      }\n      break;\n    case 'bottom':\n      cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * cropperState.options.aspectRatio;\n      overflowX = Math.max(cropperPosition.x2 - cropperState.maxSize.width, 0);\n      overflowY = Math.max(cropperPosition.y2 - cropperState.maxSize.height, 0);\n      if (overflowX > 0 || overflowY > 0) {\n        cropperPosition.x2 -= overflowY * cropperState.options.aspectRatio > overflowX ? overflowY * cropperState.options.aspectRatio : overflowX;\n        cropperPosition.y2 -= overflowY * cropperState.options.aspectRatio > overflowX ? overflowY : overflowX / cropperState.options.aspectRatio;\n      }\n      break;\n    case 'topleft':\n      cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / cropperState.options.aspectRatio;\n      overflowX = Math.max(0 - cropperPosition.x1, 0);\n      overflowY = Math.max(0 - cropperPosition.y1, 0);\n      if (overflowX > 0 || overflowY > 0) {\n        cropperPosition.x1 += overflowY * cropperState.options.aspectRatio > overflowX ? overflowY * cropperState.options.aspectRatio : overflowX;\n        cropperPosition.y1 += overflowY * cropperState.options.aspectRatio > overflowX ? overflowY : overflowX / cropperState.options.aspectRatio;\n      }\n      break;\n    case 'topright':\n      cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / cropperState.options.aspectRatio;\n      overflowX = Math.max(cropperPosition.x2 - cropperState.maxSize.width, 0);\n      overflowY = Math.max(0 - cropperPosition.y1, 0);\n      if (overflowX > 0 || overflowY > 0) {\n        cropperPosition.x2 -= overflowY * cropperState.options.aspectRatio > overflowX ? overflowY * cropperState.options.aspectRatio : overflowX;\n        cropperPosition.y1 += overflowY * cropperState.options.aspectRatio > overflowX ? overflowY : overflowX / cropperState.options.aspectRatio;\n      }\n      break;\n    case 'right':\n    case 'bottomright':\n      cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / cropperState.options.aspectRatio;\n      overflowX = Math.max(cropperPosition.x2 - cropperState.maxSize.width, 0);\n      overflowY = Math.max(cropperPosition.y2 - cropperState.maxSize.height, 0);\n      if (overflowX > 0 || overflowY > 0) {\n        cropperPosition.x2 -= overflowY * cropperState.options.aspectRatio > overflowX ? overflowY * cropperState.options.aspectRatio : overflowX;\n        cropperPosition.y2 -= overflowY * cropperState.options.aspectRatio > overflowX ? overflowY : overflowX / cropperState.options.aspectRatio;\n      }\n      break;\n    case 'left':\n    case 'bottomleft':\n      cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / cropperState.options.aspectRatio;\n      overflowX = Math.max(0 - cropperPosition.x1, 0);\n      overflowY = Math.max(cropperPosition.y2 - cropperState.maxSize.height, 0);\n      if (overflowX > 0 || overflowY > 0) {\n        cropperPosition.x1 += overflowY * cropperState.options.aspectRatio > overflowX ? overflowY * cropperState.options.aspectRatio : overflowX;\n        cropperPosition.y2 -= overflowY * cropperState.options.aspectRatio > overflowX ? overflowY : overflowX / cropperState.options.aspectRatio;\n      }\n      break;\n    case 'center':\n      cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * cropperState.options.aspectRatio;\n      cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / cropperState.options.aspectRatio;\n      const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\n      const overflowX2 = Math.max(cropperPosition.x2 - cropperState.maxSize.width, 0);\n      const overflowY1 = Math.max(cropperPosition.y2 - cropperState.maxSize.height, 0);\n      const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\n      if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\n        cropperPosition.x1 += overflowY1 * cropperState.options.aspectRatio > overflowX1 ? overflowY1 * cropperState.options.aspectRatio : overflowX1;\n        cropperPosition.x2 -= overflowY2 * cropperState.options.aspectRatio > overflowX2 ? overflowY2 * cropperState.options.aspectRatio : overflowX2;\n        cropperPosition.y1 += overflowY2 * cropperState.options.aspectRatio > overflowX2 ? overflowY2 : overflowX2 / cropperState.options.aspectRatio;\n        cropperPosition.y2 -= overflowY1 * cropperState.options.aspectRatio > overflowX1 ? overflowY1 : overflowX1 / cropperState.options.aspectRatio;\n      }\n      break;\n  }\n  return cropperPosition;\n}\nfunction getClientX(event) {\n  if ('touches' in event && event.touches[0]) {\n    return event.touches[0].clientX;\n  } else if ('clientX' in event) {\n    return event.clientX;\n  }\n  return 0;\n}\nfunction getClientY(event) {\n  if ('touches' in event && event.touches[0]) {\n    return event.touches[0].clientY;\n  } else if ('clientX' in event) {\n    return event.clientY;\n  }\n  return 0;\n}\nclass CropperState {\n  constructor() {\n    this.options = {\n      format: 'png',\n      output: 'blob',\n      autoCrop: true,\n      maintainAspectRatio: true,\n      aspectRatio: 1,\n      resetCropOnAspectRatioChange: true,\n      resizeToWidth: 0,\n      resizeToHeight: 0,\n      cropperMinWidth: 0,\n      cropperMinHeight: 0,\n      cropperMaxHeight: 0,\n      cropperMaxWidth: 0,\n      cropperStaticWidth: 0,\n      cropperStaticHeight: 0,\n      canvasRotation: 0,\n      roundCropper: false,\n      onlyScaleDown: false,\n      imageQuality: 92,\n      backgroundColor: null,\n      containWithinAspectRatio: false,\n      hideResizeSquares: false,\n      alignImage: 'center',\n      cropperFrameAriaLabel: undefined,\n      checkImageType: true\n    };\n    this.cropper = {\n      x1: 0,\n      x2: 0,\n      y1: 0,\n      y2: 0\n    };\n    this.transform = {};\n    // Internal\n    this.cropperScaledMinWidth = 20;\n    this.cropperScaledMinHeight = 20;\n    this.cropperScaledMaxWidth = 20;\n    this.cropperScaledMaxHeight = 20;\n    this.stepSize = 3;\n  }\n  setOptionsFromChanges(changes) {\n    if (changes['options']?.currentValue) {\n      this.setOptions(changes['options'].currentValue);\n    }\n    const options = Object.entries(changes).filter(([key]) => key in this.options).reduce((acc, [key, change]) => ({\n      ...acc,\n      [key]: change.currentValue\n    }), {});\n    if (Object.keys(options).length > 0) {\n      this.setOptions(options);\n    }\n  }\n  setOptions(options) {\n    this.options = {\n      ...this.options,\n      ...(options || {})\n    };\n    this.validateOptions();\n    if (!this.loadedImage?.transformed.image.complete || !this.maxSize) {\n      return;\n    }\n    let positionPossiblyChanged = false;\n    if (this.options.maintainAspectRatio && options['aspectRatio'] || options['maintainAspectRatio']) {\n      this.setCropperScaledMinSize();\n      this.setCropperScaledMaxSize();\n      if (this.options.maintainAspectRatio && (this.options.resetCropOnAspectRatioChange || !this.aspectRatioIsCorrect())) {\n        this.cropper = this.maxSizeCropperPosition();\n        positionPossiblyChanged = true;\n      }\n    } else {\n      if (options['cropperMinWidth'] || options['cropperMinHeight']) {\n        this.setCropperScaledMinSize();\n        positionPossiblyChanged = true;\n      }\n      if (options['cropperMaxWidth'] || options['cropperMaxHeight']) {\n        this.setCropperScaledMaxSize();\n        positionPossiblyChanged = true;\n      }\n      if (options['cropperStaticWidth'] || options['cropperStaticHeight']) {\n        positionPossiblyChanged = true;\n      }\n    }\n    if (positionPossiblyChanged) {\n      this.cropper = checkCropperPosition(this.cropper, this, false);\n    }\n  }\n  validateOptions() {\n    if (this.options.maintainAspectRatio && !this.options.aspectRatio) {\n      throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\n    }\n  }\n  setMaxSize(width, height) {\n    this.maxSize = {\n      width,\n      height\n    };\n    this.setCropperScaledMinSize();\n    this.setCropperScaledMaxSize();\n  }\n  setCropperScaledMinSize() {\n    if (this.loadedImage?.transformed.size) {\n      this.setCropperScaledMinWidth();\n      this.setCropperScaledMinHeight();\n    } else {\n      this.cropperScaledMinWidth = 20;\n      this.cropperScaledMinHeight = 20;\n    }\n  }\n  setCropperScaledMinWidth() {\n    this.cropperScaledMinWidth = this.options.cropperMinWidth > 0 ? Math.max(20, this.options.cropperMinWidth / this.loadedImage.transformed.size.width * this.maxSize.width) : 20;\n  }\n  setCropperScaledMinHeight() {\n    if (this.options.maintainAspectRatio) {\n      this.cropperScaledMinHeight = Math.max(20, this.cropperScaledMinWidth / this.options.aspectRatio);\n    } else if (this.options.cropperMinHeight > 0) {\n      this.cropperScaledMinHeight = Math.max(20, this.options.cropperMinHeight / this.loadedImage.transformed.size.height * this.maxSize.height);\n    } else {\n      this.cropperScaledMinHeight = 20;\n    }\n  }\n  setCropperScaledMaxSize() {\n    if (this.loadedImage?.transformed.size) {\n      const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\n      this.cropperScaledMaxWidth = this.options.cropperMaxWidth > 20 ? this.options.cropperMaxWidth / ratio : this.maxSize.width;\n      this.cropperScaledMaxHeight = this.options.cropperMaxHeight > 20 ? this.options.cropperMaxHeight / ratio : this.maxSize.height;\n      if (this.options.maintainAspectRatio) {\n        if (this.cropperScaledMaxWidth > this.cropperScaledMaxHeight * this.options.aspectRatio) {\n          this.cropperScaledMaxWidth = this.cropperScaledMaxHeight * this.options.aspectRatio;\n        } else if (this.cropperScaledMaxWidth < this.cropperScaledMaxHeight * this.options.aspectRatio) {\n          this.cropperScaledMaxHeight = this.cropperScaledMaxWidth / this.options.aspectRatio;\n        }\n      }\n    } else {\n      this.cropperScaledMaxWidth = this.maxSize.width;\n      this.cropperScaledMaxHeight = this.maxSize.height;\n    }\n  }\n  equalsCropperPosition(cropper) {\n    return this.cropper == null && cropper == null || this.cropper != null && cropper != null && this.cropper.x1.toFixed(3) === cropper.x1.toFixed(3) && this.cropper.y1.toFixed(3) === cropper.y1.toFixed(3) && this.cropper.x2.toFixed(3) === cropper.x2.toFixed(3) && this.cropper.y2.toFixed(3) === cropper.y2.toFixed(3);\n  }\n  equalsTransformTranslate(transform) {\n    return (this.transform.translateH ?? 0) === (transform.translateH ?? 0) && (this.transform.translateV ?? 0) === (transform.translateV ?? 0);\n  }\n  equalsTransform(transform) {\n    return this.equalsTransformTranslate(transform) && (this.transform.scale ?? 1) === (transform.scale ?? 1) && (this.transform.rotate ?? 0) === (transform.rotate ?? 0) && (this.transform.flipH ?? false) === (transform.flipH ?? false) && (this.transform.flipV ?? false) === (transform.flipV ?? false);\n  }\n  aspectRatioIsCorrect() {\n    const currentCropAspectRatio = (this.cropper.x2 - this.cropper.x1) / (this.cropper.y2 - this.cropper.y1);\n    return currentCropAspectRatio === this.options.aspectRatio;\n  }\n  resizeCropperPosition(oldMaxSize) {\n    if (!this.cropper) {\n      return;\n    }\n    if (oldMaxSize.width !== this.maxSize.width || oldMaxSize.height !== this.maxSize.height) {\n      this.cropper = {\n        x1: this.cropper.x1 * this.maxSize.width / oldMaxSize.width,\n        x2: this.cropper.x2 * this.maxSize.width / oldMaxSize.width,\n        y1: this.cropper.y1 * this.maxSize.height / oldMaxSize.height,\n        y2: this.cropper.y2 * this.maxSize.height / oldMaxSize.height\n      };\n    }\n  }\n  maxSizeCropperPosition() {\n    return {\n      x1: 0,\n      y1: 0,\n      x2: this.maxSize.width,\n      y2: this.maxSize.height\n    };\n  }\n}\nvar MoveTypes;\n(function (MoveTypes) {\n  MoveTypes[\"Drag\"] = \"drag\";\n  MoveTypes[\"Move\"] = \"move\";\n  MoveTypes[\"Resize\"] = \"resize\";\n  MoveTypes[\"Pinch\"] = \"pinch\";\n})(MoveTypes || (MoveTypes = {}));\n\n/*\n * Hermite resize - fast image resize/resample using Hermite filter.\n * https://github.com/viliusle/Hermite-resize\n */\nfunction resizeCanvas(canvas, width, height) {\n  const width_source = canvas.width;\n  const height_source = canvas.height;\n  width = Math.round(width);\n  height = Math.round(height);\n  const ratio_w = width_source / width;\n  const ratio_h = height_source / height;\n  const ratio_w_half = Math.ceil(ratio_w / 2);\n  const ratio_h_half = Math.ceil(ratio_h / 2);\n  const ctx = canvas.getContext('2d');\n  if (ctx) {\n    const img = ctx.getImageData(0, 0, width_source, height_source);\n    const img2 = ctx.createImageData(width, height);\n    const data = img.data;\n    const data2 = img2.data;\n    for (let j = 0; j < height; j++) {\n      for (let i = 0; i < width; i++) {\n        const x2 = (i + j * width) * 4;\n        const center_y = j * ratio_h;\n        let weight = 0;\n        let weights = 0;\n        let weights_alpha = 0;\n        let gx_r = 0;\n        let gx_g = 0;\n        let gx_b = 0;\n        let gx_a = 0;\n        const xx_start = Math.floor(i * ratio_w);\n        const yy_start = Math.floor(j * ratio_h);\n        let xx_stop = Math.ceil((i + 1) * ratio_w);\n        let yy_stop = Math.ceil((j + 1) * ratio_h);\n        xx_stop = Math.min(xx_stop, width_source);\n        yy_stop = Math.min(yy_stop, height_source);\n        for (let yy = yy_start; yy < yy_stop; yy++) {\n          const dy = Math.abs(center_y - yy) / ratio_h_half;\n          const center_x = i * ratio_w;\n          const w0 = dy * dy; //pre-calc part of w\n          for (let xx = xx_start; xx < xx_stop; xx++) {\n            const dx = Math.abs(center_x - xx) / ratio_w_half;\n            const w = Math.sqrt(w0 + dx * dx);\n            if (w >= 1) {\n              //pixel too far\n              continue;\n            }\n            //hermite filter\n            weight = 2 * w * w * w - 3 * w * w + 1;\n            const pos_x = 4 * (xx + yy * width_source);\n            //alpha\n            gx_a += weight * data[pos_x + 3];\n            weights_alpha += weight;\n            //colors\n            if (data[pos_x + 3] < 255) weight = weight * data[pos_x + 3] / 250;\n            gx_r += weight * data[pos_x];\n            gx_g += weight * data[pos_x + 1];\n            gx_b += weight * data[pos_x + 2];\n            weights += weight;\n          }\n        }\n        data2[x2] = gx_r / weights;\n        data2[x2 + 1] = gx_g / weights;\n        data2[x2 + 2] = gx_b / weights;\n        data2[x2 + 3] = gx_a / weights_alpha;\n      }\n    }\n    canvas.width = width;\n    canvas.height = height;\n    //draw\n    ctx.putImageData(img2, 0, 0);\n  }\n}\nfunction percentage(percent, totalValue) {\n  return percent / 100 * totalValue;\n}\nclass CropService {\n  crop(cropperState, output) {\n    const imagePosition = this.getImagePosition(cropperState);\n    const width = imagePosition.x2 - imagePosition.x1;\n    const height = imagePosition.y2 - imagePosition.y1;\n    const cropCanvas = document.createElement('canvas');\n    cropCanvas.width = width;\n    cropCanvas.height = height;\n    const ctx = cropCanvas.getContext('2d');\n    if (!ctx) {\n      return null;\n    }\n    if (cropperState.options.backgroundColor != null) {\n      ctx.fillStyle = cropperState.options.backgroundColor;\n      ctx.fillRect(0, 0, width, height);\n    }\n    const scaleX = (cropperState.transform.scale || 1) * (cropperState.transform.flipH ? -1 : 1);\n    const scaleY = (cropperState.transform.scale || 1) * (cropperState.transform.flipV ? -1 : 1);\n    const {\n      translateH,\n      translateV\n    } = this.getCanvasTranslate(cropperState);\n    const transformedImage = cropperState.loadedImage.transformed;\n    ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2 + translateH, transformedImage.size.height / 2 + translateV);\n    ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\n    ctx.rotate((cropperState.transform.rotate || 0) * Math.PI / 180);\n    ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\n    const result = {\n      width,\n      height,\n      imagePosition,\n      cropperPosition: {\n        ...cropperState.cropper\n      }\n    };\n    if (cropperState.options.containWithinAspectRatio) {\n      result.offsetImagePosition = this.getOffsetImagePosition(cropperState);\n    }\n    const resizeRatio = this.getResizeRatio(width, height, cropperState.options);\n    if (resizeRatio !== 1) {\n      result.width = Math.round(width * resizeRatio);\n      result.height = cropperState.options.maintainAspectRatio ? Math.round(result.width / cropperState.options.aspectRatio) : Math.round(height * resizeRatio);\n      resizeCanvas(cropCanvas, result.width, result.height);\n    }\n    if (output === 'blob') {\n      return this.cropToBlob(result, cropCanvas, cropperState);\n    } else {\n      result.base64 = cropCanvas.toDataURL('image/' + cropperState.options.format, this.getQuality(cropperState.options));\n      return result;\n    }\n  }\n  async cropToBlob(output, cropCanvas, cropperState) {\n    output.blob = await new Promise(resolve => cropCanvas.toBlob(resolve, 'image/' + cropperState.options.format, this.getQuality(cropperState.options)));\n    if (output.blob) {\n      output.objectUrl = URL.createObjectURL(output.blob);\n    }\n    return output;\n  }\n  getCanvasTranslate(cropperState) {\n    if (cropperState.transform.translateUnit === 'px') {\n      const ratio = this.getRatio(cropperState);\n      return {\n        translateH: (cropperState.transform.translateH || 0) * ratio,\n        translateV: (cropperState.transform.translateV || 0) * ratio\n      };\n    } else {\n      return {\n        translateH: cropperState.transform.translateH ? percentage(cropperState.transform.translateH, cropperState.loadedImage.transformed.size.width) : 0,\n        translateV: cropperState.transform.translateV ? percentage(cropperState.transform.translateV, cropperState.loadedImage.transformed.size.height) : 0\n      };\n    }\n  }\n  getRatio(cropperState) {\n    return cropperState.loadedImage.transformed.size.width / cropperState.maxSize.width;\n  }\n  getImagePosition(cropperState) {\n    const ratio = this.getRatio(cropperState);\n    const out = {\n      x1: Math.round(cropperState.cropper.x1 * ratio),\n      y1: Math.round(cropperState.cropper.y1 * ratio),\n      x2: Math.round(cropperState.cropper.x2 * ratio),\n      y2: Math.round(cropperState.cropper.y2 * ratio)\n    };\n    if (!cropperState.options.containWithinAspectRatio) {\n      out.x1 = Math.max(out.x1, 0);\n      out.y1 = Math.max(out.y1, 0);\n      out.x2 = Math.min(out.x2, cropperState.loadedImage.transformed.size.width);\n      out.y2 = Math.min(out.y2, cropperState.loadedImage.transformed.size.height);\n    }\n    return out;\n  }\n  getOffsetImagePosition(cropperState) {\n    const canvasRotation = cropperState.options.canvasRotation + cropperState.loadedImage.exifTransform.rotate;\n    const ratio = this.getRatio(cropperState);\n    let offsetX;\n    let offsetY;\n    if (canvasRotation % 2) {\n      offsetX = (cropperState.loadedImage.transformed.size.width - cropperState.loadedImage.original.size.height) / 2;\n      offsetY = (cropperState.loadedImage.transformed.size.height - cropperState.loadedImage.original.size.width) / 2;\n    } else {\n      offsetX = (cropperState.loadedImage.transformed.size.width - cropperState.loadedImage.original.size.width) / 2;\n      offsetY = (cropperState.loadedImage.transformed.size.height - cropperState.loadedImage.original.size.height) / 2;\n    }\n    const out = {\n      x1: Math.round(cropperState.cropper.x1 * ratio) - offsetX,\n      y1: Math.round(cropperState.cropper.y1 * ratio) - offsetY,\n      x2: Math.round(cropperState.cropper.x2 * ratio) - offsetX,\n      y2: Math.round(cropperState.cropper.y2 * ratio) - offsetY\n    };\n    if (!cropperState.options.containWithinAspectRatio) {\n      out.x1 = Math.max(out.x1, 0);\n      out.y1 = Math.max(out.y1, 0);\n      out.x2 = Math.min(out.x2, cropperState.loadedImage.transformed.size.width);\n      out.y2 = Math.min(out.y2, cropperState.loadedImage.transformed.size.height);\n    }\n    return out;\n  }\n  getResizeRatio(width, height, options) {\n    const ratioWidth = options.resizeToWidth / width;\n    const ratioHeight = options.resizeToHeight / height;\n    const ratios = new Array();\n    if (options.resizeToWidth > 0) {\n      ratios.push(ratioWidth);\n    }\n    if (options.resizeToHeight > 0) {\n      ratios.push(ratioHeight);\n    }\n    const result = ratios.length === 0 ? 1 : Math.min(...ratios);\n    if (result > 1 && !options.onlyScaleDown) {\n      return result;\n    }\n    return Math.min(result, 1);\n  }\n  getQuality(options) {\n    return Math.min(1, Math.max(0, options.imageQuality / 100));\n  }\n}\n\n// Black 2x1 JPEG, with the following meta information set:\n// - EXIF Orientation: 6 (Rotated 90° CCW)\n// Source: https://github.com/blueimp/JavaScript-Load-Image\nconst testAutoOrientationImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' + 'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' + 'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' + 'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' + 'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' + 'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\nfunction supportsAutomaticRotation() {\n  return new Promise(resolve => {\n    const img = new Image();\n    img.onload = () => {\n      // Check if browser supports automatic image orientation:\n      const supported = img.width === 1 && img.height === 2;\n      resolve(supported);\n    };\n    img.src = testAutoOrientationImageURL;\n  });\n}\nfunction getTransformationsFromExifData(exifRotationOrArrayBuffer) {\n  if (typeof exifRotationOrArrayBuffer === 'object') {\n    exifRotationOrArrayBuffer = getExifRotation(exifRotationOrArrayBuffer);\n  }\n  switch (exifRotationOrArrayBuffer) {\n    case 2:\n      return {\n        rotate: 0,\n        flip: true\n      };\n    case 3:\n      return {\n        rotate: 2,\n        flip: false\n      };\n    case 4:\n      return {\n        rotate: 2,\n        flip: true\n      };\n    case 5:\n      return {\n        rotate: 1,\n        flip: true\n      };\n    case 6:\n      return {\n        rotate: 1,\n        flip: false\n      };\n    case 7:\n      return {\n        rotate: 3,\n        flip: true\n      };\n    case 8:\n      return {\n        rotate: 3,\n        flip: false\n      };\n    default:\n      return {\n        rotate: 0,\n        flip: false\n      };\n  }\n}\nfunction getExifRotation(arrayBuffer) {\n  const view = new DataView(arrayBuffer);\n  if (view.getUint16(0, false) !== 0xFFD8) {\n    return -2;\n  }\n  const length = view.byteLength;\n  let offset = 2;\n  while (offset < length) {\n    if (view.getUint16(offset + 2, false) <= 8) return -1;\n    const marker = view.getUint16(offset, false);\n    offset += 2;\n    if (marker == 0xFFE1) {\n      if (view.getUint32(offset += 2, false) !== 0x45786966) {\n        return -1;\n      }\n      const little = view.getUint16(offset += 6, false) == 0x4949;\n      offset += view.getUint32(offset + 4, little);\n      const tags = view.getUint16(offset, little);\n      offset += 2;\n      for (let i = 0; i < tags; i++) {\n        if (view.getUint16(offset + i * 12, little) == 0x0112) {\n          return view.getUint16(offset + i * 12 + 8, little);\n        }\n      }\n    } else if ((marker & 0xFF00) !== 0xFF00) {\n      break;\n    } else {\n      offset += view.getUint16(offset, false);\n    }\n  }\n  return -1;\n}\nclass LoadImageService {\n  constructor() {\n    this.autoRotateSupported = supportsAutomaticRotation();\n  }\n  async loadImageFile(file, cropperSettings) {\n    const arrayBuffer = await file.arrayBuffer();\n    if (cropperSettings.options.checkImageType) {\n      return await this.checkImageTypeAndLoadImageFromArrayBuffer(arrayBuffer, file.type, cropperSettings);\n    }\n    return await this.loadImageFromArrayBuffer(arrayBuffer, cropperSettings);\n  }\n  checkImageTypeAndLoadImageFromArrayBuffer(arrayBuffer, imageType, cropperSettings) {\n    if (!this.isValidImageType(imageType)) {\n      return Promise.reject(new Error('Invalid image type'));\n    }\n    return this.loadImageFromArrayBuffer(arrayBuffer, cropperSettings, imageType);\n  }\n  isValidImageType(type) {\n    return /image\\/(png|jpg|jpeg|heic|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(type);\n  }\n  async loadImageFromURL(url, cropperSettings) {\n    const res = await fetch(url);\n    const blob = await res.blob();\n    const buffer = await blob.arrayBuffer();\n    return await this.loadImageFromArrayBuffer(buffer, cropperSettings, blob.type);\n  }\n  loadBase64Image(imageBase64, cropperSettings) {\n    const arrayBuffer = this.base64ToArrayBuffer(imageBase64);\n    return this.loadImageFromArrayBuffer(arrayBuffer, cropperSettings);\n  }\n  base64ToArrayBuffer(imageBase64) {\n    imageBase64 = imageBase64.replace(/^data:([^;]+);base64,/gmi, '');\n    const binaryString = atob(imageBase64);\n    const len = binaryString.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n  }\n  async loadImageFromArrayBuffer(arrayBuffer, cropperState, imageType) {\n    const res = await new Promise(async (resolve, reject) => {\n      try {\n        const blob = new Blob([arrayBuffer], imageType ? {\n          type: imageType\n        } : undefined);\n        const objectUrl = URL.createObjectURL(blob);\n        const originalImage = new Image();\n        const isSvg = imageType === 'image/svg+xml';\n        const originalImageSize = isSvg ? await this.getSvgImageSize(blob) : undefined;\n        originalImage.onload = () => resolve({\n          originalImage,\n          originalImageSize,\n          originalObjectUrl: objectUrl,\n          originalArrayBuffer: arrayBuffer\n        });\n        originalImage.onerror = reject;\n        originalImage.src = objectUrl;\n      } catch (e) {\n        reject(e);\n      }\n    });\n    return await this.transformImageFromArrayBuffer(res, cropperState, res.originalImageSize != null);\n  }\n  async getSvgImageSize(blob) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(await blob.text(), 'image/svg+xml');\n    const svgElement = doc.querySelector('svg');\n    if (!svgElement) {\n      throw Error('Failed to parse SVG image');\n    }\n    const widthAttr = svgElement.getAttribute('width');\n    const heightAttr = svgElement.getAttribute('height');\n    if (widthAttr && heightAttr) {\n      return null;\n    }\n    const viewBoxAttr = svgElement.getAttribute('viewBox') || svgElement.getAttribute('viewbox');\n    if (viewBoxAttr) {\n      const viewBox = viewBoxAttr.split(' ');\n      return {\n        width: +viewBox[2],\n        height: +viewBox[3]\n      };\n    }\n    throw Error('Failed to load SVG image. SVG must have width + height or viewBox definition.');\n  }\n  async transformImageFromArrayBuffer(res, cropperSettings, forceTransform = false) {\n    const autoRotate = await this.autoRotateSupported;\n    const exifTransform = getTransformationsFromExifData(autoRotate ? -1 : res.originalArrayBuffer);\n    if (!res.originalImage || !res.originalImage.complete) {\n      return Promise.reject(new Error('No image loaded'));\n    }\n    const loadedImage = {\n      original: {\n        objectUrl: res.originalObjectUrl,\n        image: res.originalImage,\n        size: res.originalImageSize ?? {\n          width: res.originalImage.naturalWidth,\n          height: res.originalImage.naturalHeight\n        }\n      },\n      exifTransform\n    };\n    return this.transformLoadedImage(loadedImage, cropperSettings, forceTransform);\n  }\n  async transformLoadedImage(loadedImage, cropperState, forceTransform = false) {\n    const canvasRotation = cropperState.options.canvasRotation + loadedImage.exifTransform.rotate;\n    const originalSize = loadedImage.original.size;\n    if (!forceTransform && canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperState.options.containWithinAspectRatio) {\n      return {\n        original: {\n          objectUrl: loadedImage.original.objectUrl,\n          image: loadedImage.original.image,\n          size: {\n            ...originalSize\n          }\n        },\n        transformed: {\n          objectUrl: loadedImage.original.objectUrl,\n          image: loadedImage.original.image,\n          size: {\n            ...originalSize\n          }\n        },\n        exifTransform: loadedImage.exifTransform\n      };\n    }\n    const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperState);\n    const canvas = document.createElement('canvas');\n    canvas.width = transformedSize.width;\n    canvas.height = transformedSize.height;\n    const ctx = canvas.getContext('2d');\n    ctx?.setTransform(loadedImage.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\n    ctx?.rotate(Math.PI * (canvasRotation / 2));\n    ctx?.drawImage(loadedImage.original.image, -originalSize.width / 2, -originalSize.height / 2);\n    const blob = await new Promise(resolve => canvas.toBlob(resolve, cropperState.options.format));\n    if (!blob) {\n      throw new Error('Failed to get Blob for transformed image.');\n    }\n    const objectUrl = URL.createObjectURL(blob);\n    const transformedImage = await this.loadImageFromObjectUrl(objectUrl);\n    return {\n      original: {\n        objectUrl: loadedImage.original.objectUrl,\n        image: loadedImage.original.image,\n        size: {\n          ...originalSize\n        }\n      },\n      transformed: {\n        objectUrl: objectUrl,\n        image: transformedImage,\n        size: {\n          width: transformedImage.width,\n          height: transformedImage.height\n        }\n      },\n      exifTransform: loadedImage.exifTransform\n    };\n  }\n  loadImageFromObjectUrl(objectUrl) {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      image.onload = () => resolve(image);\n      image.onerror = reject;\n      image.src = objectUrl;\n    });\n  }\n  getTransformedSize(originalSize, exifTransform, cropperState) {\n    const canvasRotation = cropperState.options.canvasRotation + exifTransform.rotate;\n    if (cropperState.options.containWithinAspectRatio) {\n      if (canvasRotation % 2) {\n        const minWidthToContain = originalSize.width * cropperState.options.aspectRatio;\n        const minHeightToContain = originalSize.height / cropperState.options.aspectRatio;\n        return {\n          width: Math.max(originalSize.height, minWidthToContain),\n          height: Math.max(originalSize.width, minHeightToContain)\n        };\n      } else {\n        const minWidthToContain = originalSize.height * cropperState.options.aspectRatio;\n        const minHeightToContain = originalSize.width / cropperState.options.aspectRatio;\n        return {\n          width: Math.max(originalSize.width, minWidthToContain),\n          height: Math.max(originalSize.height, minHeightToContain)\n        };\n      }\n    }\n    if (canvasRotation % 2) {\n      return {\n        height: originalSize.width,\n        width: originalSize.height\n      };\n    }\n    return {\n      width: originalSize.width,\n      height: originalSize.height\n    };\n  }\n}\nfunction getPositionForKey(key) {\n  switch (key) {\n    case 'ArrowUp':\n      return 'top';\n    case 'ArrowRight':\n      return 'right';\n    case 'ArrowDown':\n      return 'bottom';\n    case 'ArrowLeft':\n    default:\n      return 'left';\n  }\n}\nfunction getInvertedPositionForKey(key) {\n  switch (key) {\n    case 'ArrowUp':\n      return 'bottom';\n    case 'ArrowRight':\n      return 'left';\n    case 'ArrowDown':\n      return 'top';\n    case 'ArrowLeft':\n    default:\n      return 'right';\n  }\n}\nfunction getEventForKey(key, stepSize) {\n  switch (key) {\n    case 'ArrowUp':\n      return {\n        clientX: 0,\n        clientY: stepSize * -1\n      };\n    case 'ArrowRight':\n      return {\n        clientX: stepSize,\n        clientY: 0\n      };\n    case 'ArrowDown':\n      return {\n        clientX: 0,\n        clientY: stepSize\n      };\n    case 'ArrowLeft':\n    default:\n      return {\n        clientX: stepSize * -1,\n        clientY: 0\n      };\n  }\n}\nclass ImageCropperComponent {\n  get alignImageStyle() {\n    return this.state.options.alignImage;\n  }\n  constructor(sanitizer, cd, zone) {\n    this.sanitizer = sanitizer;\n    this.cd = cd;\n    this.zone = zone;\n    this.pinchStart$ = new Subject();\n    this.cropService = new CropService();\n    this.loadImageService = new LoadImageService();\n    this.setImageMaxSizeRetries = 0;\n    this.resizedWhileHidden = false;\n    this.moveTypes = MoveTypes;\n    this.state = new CropperState();\n    this.safeImgDataUrl = signal(undefined);\n    this.marginLeft = '0px';\n    this.imageVisible = false;\n    this.allowMoveImage = false;\n    this.checkImageType = true;\n    this.disabled = false;\n    this.hidden = false;\n    this.imageCropped = new EventEmitter();\n    this.startCropImage = new EventEmitter();\n    this.imageLoaded = new EventEmitter();\n    this.cropperReady = new EventEmitter();\n    this.loadImageFailed = new EventEmitter();\n    this.transformChange = new EventEmitter();\n    this.cropperChange = new EventEmitter();\n    this.reset();\n  }\n  ngOnInit() {\n    this.state.stepSize = this.initialStepSize || this.state.stepSize;\n  }\n  ngOnChanges(changes) {\n    const previousCropperPosition = this.state.cropper;\n    const previousTransform = this.state.transform;\n    const previousBackgroundColor = this.state.options.backgroundColor;\n    this.state.setOptionsFromChanges(changes);\n    this.onChangesInputImage(changes);\n    if (changes['transform'] && this.transform) {\n      this.state.transform = this.transform;\n      this.setCssTransform();\n    }\n    if (!this.state.loadedImage?.transformed.image.complete || !this.state.maxSize) {\n      return;\n    }\n    if (this.containWithinAspectRatio && changes['aspectRatio'] || changes['containWithinAspectRatio'] || changes['canvasRotation']) {\n      this.loadImageService.transformLoadedImage(this.state.loadedImage, this.state).then(res => this.setLoadedImage(res)).catch(err => this.loadImageError(err));\n      return;\n    }\n    if (changes['cropper'] && this.cropper) {\n      this.state.cropper = checkCropperPosition(this.cropper, this.state, true);\n    }\n    const cropperChanged = !this.state.equalsCropperPosition(previousCropperPosition);\n    if (cropperChanged && (!this.cropper || !this.state.equalsCropperPosition(this.cropper))) {\n      this.cropperChange.emit(this.state.cropper);\n    }\n    if (cropperChanged || !this.state.equalsTransform(previousTransform) || this.state.options.backgroundColor !== previousBackgroundColor) {\n      this.doAutoCrop();\n    }\n    if (changes['hidden'] && this.resizedWhileHidden && !this.hidden) {\n      setTimeout(() => {\n        this.onResize();\n        this.resizedWhileHidden = false;\n      });\n    }\n  }\n  onChangesInputImage(changes) {\n    if (changes['imageChangedEvent'] || changes['imageURL'] || changes['imageBase64'] || changes['imageFile']) {\n      this.reset();\n    }\n    if (changes['imageChangedEvent'] && this.isValidImageChangedEvent()) {\n      this.loadImageFile(this.imageChangedEvent.target.files[0]);\n    }\n    if (changes['imageURL'] && this.imageURL) {\n      this.loadImageFromURL(this.imageURL);\n    }\n    if (changes['imageBase64'] && this.imageBase64) {\n      this.loadBase64Image(this.imageBase64);\n    }\n    if (changes['imageFile'] && this.imageFile) {\n      this.loadImageFile(this.imageFile);\n    }\n  }\n  isValidImageChangedEvent() {\n    const files = this.imageChangedEvent?.target?.files;\n    return files instanceof FileList && files.length > 0;\n  }\n  reset() {\n    this.safeImgDataUrl.set('data:image/png;base64,iVBORw0KGg' + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU' + 'AAarVyFEAAAAASUVORK5CYII=');\n    this.state.loadedImage = undefined;\n    this.state.maxSize = undefined;\n    this.imageVisible = false;\n  }\n  loadImageFile(file) {\n    this.loadImageService.loadImageFile(file, this.state).then(res => this.setLoadedImage(res)).catch(err => this.loadImageError(err));\n  }\n  loadBase64Image(imageBase64) {\n    this.loadImageService.loadBase64Image(imageBase64, this.state).then(res => this.setLoadedImage(res)).catch(err => this.loadImageError(err));\n  }\n  loadImageFromURL(url) {\n    this.loadImageService.loadImageFromURL(url, this.state).then(res => this.setLoadedImage(res)).catch(err => this.loadImageError(err));\n  }\n  setLoadedImage(loadedImage) {\n    this.state.loadedImage = loadedImage;\n    this.safeImgDataUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.objectUrl));\n  }\n  loadImageError(error) {\n    console.error(error);\n    this.loadImageFailed.emit();\n  }\n  setCssTransform() {\n    const translateUnit = this.state.transform?.translateUnit || '%';\n    this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle(`translate(${this.state.transform.translateH || 0}${translateUnit}, ${this.state.transform.translateV || 0}${translateUnit})` + ' scaleX(' + (this.state.transform.scale || 1) * (this.state.transform.flipH ? -1 : 1) + ')' + ' scaleY(' + (this.state.transform.scale || 1) * (this.state.transform.flipV ? -1 : 1) + ')' + ' rotate(' + (this.state.transform.rotate || 0) + 'deg)');\n  }\n  imageLoadedInView() {\n    if (this.state.loadedImage != null) {\n      this.imageLoaded.emit(this.state.loadedImage);\n      this.setImageMaxSizeRetries = 0;\n      setTimeout(() => this.checkImageMaxSizeRecursively());\n    }\n  }\n  checkImageMaxSizeRecursively() {\n    if (this.setImageMaxSizeRetries > 40) {\n      this.loadImageFailed.emit();\n    } else if (this.sourceImageLoaded()) {\n      this.setMaxSize();\n      if (this.cropper && (!this.maintainAspectRatio || this.state.aspectRatioIsCorrect())) {\n        this.state.cropper = checkCropperPosition(this.cropper, this.state, true);\n        this.emitCropperPositionChange(this.cropper);\n      } else {\n        this.state.cropper = checkCropperPosition(this.state.maxSizeCropperPosition(), this.state, true);\n        this.cropperChange.emit(this.state.cropper);\n      }\n      this.imageVisible = true;\n      this.cropperReady.emit({\n        ...this.state.maxSize\n      });\n      this.doAutoCrop();\n      this.cd.markForCheck();\n    } else {\n      this.setImageMaxSizeRetries++;\n      setTimeout(() => this.checkImageMaxSizeRecursively(), 50);\n    }\n  }\n  sourceImageLoaded() {\n    return this.sourceImage?.nativeElement?.offsetWidth > 1;\n  }\n  onResize() {\n    if (!this.state.loadedImage) {\n      return;\n    }\n    if (this.hidden) {\n      this.resizedWhileHidden = true;\n    } else {\n      const oldMaxSize = {\n        ...this.state.maxSize\n      };\n      this.setMaxSize();\n      this.state.resizeCropperPosition(oldMaxSize);\n      this.cd.markForCheck();\n    }\n  }\n  keyboardAccess(event) {\n    this.changeKeyboardStepSize(event);\n    this.keyboardMoveCropper(event);\n  }\n  changeKeyboardStepSize(event) {\n    const key = +event.key;\n    if (key >= 1 && key <= 9) {\n      this.state.stepSize = key;\n    }\n  }\n  keyboardMoveCropper(event) {\n    const keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\n    if (!keyboardWhiteList.includes(event.key)) {\n      return;\n    }\n    const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\n    const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\n    const moveEvent = getEventForKey(event.key, this.state.stepSize);\n    event.preventDefault();\n    event.stopPropagation();\n    this.moveStart = {\n      active: true,\n      type: moveType,\n      position,\n      clientX: 0,\n      clientY: 0,\n      transform: this.state.transform,\n      cropper: this.state.cropper\n    };\n    this.handleMouseMove(moveEvent);\n    this.handleMouseUp();\n  }\n  startMove(event, moveType, position = null) {\n    if (this.disabled || this.moveStart?.active && this.moveStart?.type === MoveTypes.Pinch || moveType === MoveTypes.Drag && !this.allowMoveImage) {\n      return;\n    }\n    if ('preventDefault' in event) {\n      event.preventDefault();\n    }\n    this.moveStart = {\n      active: true,\n      type: moveType,\n      position,\n      clientX: getClientX(event),\n      clientY: getClientY(event),\n      transform: this.state.transform,\n      cropper: this.state.cropper\n    };\n    this.initMouseMove();\n  }\n  initMouseMove() {\n    merge(fromEvent(document, 'mousemove'), fromEvent(document, 'touchmove')).pipe(takeUntil(merge(fromEvent(document, 'mouseup'), fromEvent(document, 'touchend'), this.pinchStart$).pipe(first()))).subscribe({\n      next: event => this.zone.run(() => {\n        this.handleMouseMove(event);\n        this.cd.markForCheck();\n      }),\n      complete: () => this.zone.run(() => {\n        this.handleMouseUp();\n        this.cd.markForCheck();\n      })\n    });\n  }\n  handleMouseMove(event) {\n    if (!this.moveStart?.active) {\n      return;\n    }\n    if ('stopPropagation' in event) {\n      event.stopPropagation();\n    }\n    if ('preventDefault' in event) {\n      event.preventDefault();\n    }\n    if (this.moveStart.type === MoveTypes.Move) {\n      this.state.cropper = checkCropperWithinMaxSizeBounds(moveCropper(event, this.moveStart), this.state, true);\n    } else if (this.moveStart.type === MoveTypes.Resize) {\n      if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\n        this.state.cropper = checkCropperWithinMaxSizeBounds(resizeCropper(event, this.moveStart, this.state), this.state, false);\n      }\n    } else if (this.moveStart.type === MoveTypes.Drag) {\n      const diffX = getClientX(event) - this.moveStart.clientX;\n      const diffY = getClientY(event) - this.moveStart.clientY;\n      this.state.transform = {\n        ...this.state.transform,\n        translateH: (this.moveStart.transform?.translateH || 0) + diffX,\n        translateV: (this.moveStart.transform?.translateV || 0) + diffY\n      };\n      this.setCssTransform();\n    }\n  }\n  handleMouseUp() {\n    if (!this.moveStart?.active || this.moveStart?.type === MoveTypes.Pinch) {\n      return;\n    }\n    if (!this.state.equalsCropperPosition(this.moveStart.cropper) || this.moveStart.transform && !this.state.equalsTransform(this.moveStart.transform)) {\n      if (this.moveStart.type === MoveTypes.Drag) {\n        this.transformChange.emit(this.state.transform);\n      } else {\n        this.cropperChange.emit(this.state.cropper);\n      }\n      this.doAutoCrop();\n    }\n    this.moveStart = undefined;\n  }\n  startPinch(event) {\n    if (this.disabled || !this.sourceImageLoaded() || event.touches.length < 2) {\n      return;\n    }\n    if ('preventDefault' in event) {\n      event.preventDefault();\n    }\n    this.moveStart = {\n      active: true,\n      type: MoveTypes.Pinch,\n      position: 'center',\n      clientX: this.state.cropper.x1 + (this.state.cropper.x2 - this.state.cropper.x1) / 2,\n      clientY: this.state.cropper.y1 + (this.state.cropper.y2 - this.state.cropper.y1) / 2,\n      cropper: this.state.cropper\n    };\n    this.initPinch();\n  }\n  initPinch() {\n    this.pinchStart$.next();\n    fromEvent(document, 'touchmove').pipe(takeUntil(fromEvent(document, 'touchend'))).subscribe({\n      next: event => this.zone.run(() => {\n        this.handlePinchMove(event);\n        this.cd.markForCheck();\n      }),\n      complete: () => this.zone.run(() => {\n        this.handlePinchStop();\n        this.cd.markForCheck();\n      })\n    });\n  }\n  handlePinchMove(event) {\n    if (!this.moveStart?.active) {\n      return;\n    }\n    if (event.preventDefault) {\n      event.preventDefault();\n    }\n    if (this.moveStart.type === MoveTypes.Pinch) {\n      if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\n        this.state.cropper = checkCropperWithinMaxSizeBounds(resizeCropper(event, this.moveStart, this.state), this.state, false);\n      }\n    }\n    this.cd.markForCheck();\n  }\n  handlePinchStop() {\n    if (!this.moveStart?.active) {\n      return;\n    }\n    if (!this.state.equalsCropperPosition(this.moveStart.cropper)) {\n      this.emitCropperPositionChange(this.moveStart.cropper);\n      this.doAutoCrop();\n    }\n    this.moveStart = undefined;\n  }\n  setMaxSize() {\n    if (this.sourceImage) {\n      const sourceImageStyle = getComputedStyle(this.sourceImage.nativeElement);\n      this.state.setMaxSize(parseFloat(sourceImageStyle.width), parseFloat(sourceImageStyle.height));\n      this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.state.maxSize.width / 2 + 'px)');\n    }\n  }\n  emitCropperPositionChange(previousPosition) {\n    if (!this.state.equalsCropperPosition(previousPosition)) {\n      this.cropperChange.emit(this.state.cropper);\n    }\n  }\n  doAutoCrop() {\n    if (this.state.options.autoCrop) {\n      void this.crop();\n    }\n  }\n  crop(output = this.state.options.output) {\n    if (this.state.loadedImage?.transformed?.image != null) {\n      this.startCropImage.emit();\n      if (output === 'blob') {\n        return this.cropToBlob();\n      } else if (output === 'base64') {\n        return this.cropToBase64();\n      }\n    }\n    return null;\n  }\n  cropToBlob() {\n    return new Promise((resolve, reject) => this.zone.run(async () => {\n      const result = await this.cropService.crop(this.state, 'blob');\n      if (result) {\n        this.imageCropped.emit(result);\n        resolve(result);\n      } else {\n        reject('Crop image failed');\n      }\n    }));\n  }\n  cropToBase64() {\n    const result = this.cropService.crop(this.state, 'base64');\n    if (result) {\n      this.imageCropped.emit(result);\n      return result;\n    }\n    return null;\n  }\n  ngOnDestroy() {\n    this.pinchStart$.complete();\n  }\n  static {\n    this.ɵfac = function ImageCropperComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ImageCropperComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.NgZone));\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ImageCropperComponent,\n      selectors: [[\"image-cropper\"]],\n      viewQuery: function ImageCropperComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 7);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.wrapper = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sourceImage = _t.first);\n        }\n      },\n      hostVars: 6,\n      hostBindings: function ImageCropperComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"resize\", function ImageCropperComponent_resize_HostBindingHandler() {\n            return ctx.onResize();\n          }, false, i0.ɵɵresolveWindow);\n        }\n        if (rf & 2) {\n          i0.ɵɵstyleProp(\"text-align\", ctx.alignImageStyle);\n          i0.ɵɵclassProp(\"disabled\", ctx.disabled)(\"ngx-ic-hidden\", ctx.hidden);\n        }\n      },\n      inputs: {\n        imageChangedEvent: \"imageChangedEvent\",\n        imageURL: \"imageURL\",\n        imageBase64: \"imageBase64\",\n        imageFile: \"imageFile\",\n        imageAltText: \"imageAltText\",\n        options: \"options\",\n        cropperFrameAriaLabel: \"cropperFrameAriaLabel\",\n        output: \"output\",\n        format: \"format\",\n        autoCrop: \"autoCrop\",\n        cropper: \"cropper\",\n        transform: \"transform\",\n        maintainAspectRatio: \"maintainAspectRatio\",\n        aspectRatio: \"aspectRatio\",\n        resetCropOnAspectRatioChange: \"resetCropOnAspectRatioChange\",\n        resizeToWidth: \"resizeToWidth\",\n        resizeToHeight: \"resizeToHeight\",\n        cropperMinWidth: \"cropperMinWidth\",\n        cropperMinHeight: \"cropperMinHeight\",\n        cropperMaxHeight: \"cropperMaxHeight\",\n        cropperMaxWidth: \"cropperMaxWidth\",\n        cropperStaticWidth: \"cropperStaticWidth\",\n        cropperStaticHeight: \"cropperStaticHeight\",\n        canvasRotation: \"canvasRotation\",\n        initialStepSize: \"initialStepSize\",\n        roundCropper: \"roundCropper\",\n        onlyScaleDown: \"onlyScaleDown\",\n        imageQuality: \"imageQuality\",\n        backgroundColor: \"backgroundColor\",\n        containWithinAspectRatio: \"containWithinAspectRatio\",\n        hideResizeSquares: \"hideResizeSquares\",\n        allowMoveImage: \"allowMoveImage\",\n        checkImageType: \"checkImageType\",\n        alignImage: \"alignImage\",\n        disabled: \"disabled\",\n        hidden: \"hidden\"\n      },\n      outputs: {\n        imageCropped: \"imageCropped\",\n        startCropImage: \"startCropImage\",\n        imageLoaded: \"imageLoaded\",\n        cropperReady: \"cropperReady\",\n        loadImageFailed: \"loadImageFailed\",\n        transformChange: \"transformChange\",\n        cropperChange: \"cropperChange\"\n      },\n      standalone: true,\n      features: [i0.ɵɵNgOnChangesFeature, i0.ɵɵStandaloneFeature],\n      decls: 4,\n      vars: 10,\n      consts: [[\"sourceImage\", \"\"], [3, \"touchstart\"], [\"class\", \"ngx-ic-source-image\", \"role\", \"presentation\", 3, \"src\", \"visibility\", \"transform\", \"ngx-ic-draggable\", \"load\", \"mousedown\", \"touchstart\", \"error\", 4, \"ngIf\"], [1, \"ngx-ic-overlay\"], [\"class\", \"ngx-ic-cropper\", \"tabindex\", \"0\", 3, \"ngx-ic-round\", \"top\", \"left\", \"width\", \"height\", \"margin-left\", \"visibility\", \"keydown\", 4, \"ngIf\"], [\"role\", \"presentation\", 1, \"ngx-ic-source-image\", 3, \"load\", \"mousedown\", \"touchstart\", \"error\", \"src\"], [\"tabindex\", \"0\", 1, \"ngx-ic-cropper\", 3, \"keydown\"], [\"role\", \"presentation\", 1, \"ngx-ic-move\", 3, \"mousedown\", \"touchstart\"], [4, \"ngIf\"], [\"role\", \"presentation\", 1, \"ngx-ic-resize\", \"ngx-ic-topleft\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-square\"], [1, \"ngx-ic-resize\", \"ngx-ic-top\"], [\"role\", \"presentation\", 1, \"ngx-ic-resize\", \"ngx-ic-topright\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-right\"], [\"role\", \"presentation\", 1, \"ngx-ic-resize\", \"ngx-ic-bottomright\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-bottom\"], [\"role\", \"presentation\", 1, \"ngx-ic-resize\", \"ngx-ic-bottomleft\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-left\"], [\"role\", \"presentation\", 1, \"ngx-ic-resize-bar\", \"ngx-ic-top\", 3, \"mousedown\", \"touchstart\"], [\"role\", \"presentation\", 1, \"ngx-ic-resize-bar\", \"ngx-ic-right\", 3, \"mousedown\", \"touchstart\"], [\"role\", \"presentation\", 1, \"ngx-ic-resize-bar\", \"ngx-ic-bottom\", 3, \"mousedown\", \"touchstart\"], [\"role\", \"presentation\", 1, \"ngx-ic-resize-bar\", \"ngx-ic-left\", 3, \"mousedown\", \"touchstart\"]],\n      template: function ImageCropperComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 1);\n          i0.ɵɵlistener(\"touchstart\", function ImageCropperComponent_Template_div_touchstart_0_listener($event) {\n            return ctx.startPinch($event);\n          });\n          i0.ɵɵtemplate(1, ImageCropperComponent_img_1_Template, 2, 8, \"img\", 2);\n          i0.ɵɵelement(2, \"div\", 3);\n          i0.ɵɵtemplate(3, ImageCropperComponent_div_3_Template, 3, 16, \"div\", 4);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵstyleProp(\"background\", ctx.imageVisible && ctx.state.options.backgroundColor);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.safeImgDataUrl());\n          i0.ɵɵadvance();\n          i0.ɵɵstyleProp(\"width\", (ctx.state.maxSize == null ? null : ctx.state.maxSize.width) || 0, \"px\")(\"height\", (ctx.state.maxSize == null ? null : ctx.state.maxSize.height) || 0, \"px\")(\"margin-left\", ctx.alignImage === \"center\" ? ctx.marginLeft : null);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.imageVisible);\n        }\n      },\n      dependencies: [NgIf],\n      styles: [\"[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:\\\"\\\";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:var(--cropper-move-border, 1px solid rgba(255, 255, 255, .5))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ic-hidden[_nghost-%COMP%]{display:none}\"],\n      changeDetection: 0\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ImageCropperComponent, [{\n    type: Component,\n    args: [{\n      selector: 'image-cropper',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      standalone: true,\n      imports: [NgIf],\n      template: \"<div\\n  [style.background]=\\\"imageVisible && state.options.backgroundColor\\\"\\n  (touchstart)=\\\"startPinch($event)\\\"\\n>\\n  <img\\n    #sourceImage\\n    class=\\\"ngx-ic-source-image\\\"\\n    role=\\\"presentation\\\"\\n    *ngIf=\\\"safeImgDataUrl() as src\\\"\\n    [src]=\\\"src\\\"\\n    [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n    [style.transform]=\\\"safeTransformStyle\\\"\\n    [class.ngx-ic-draggable]=\\\"!disabled && allowMoveImage\\\"\\n    [attr.alt]=\\\"imageAltText\\\"\\n    (load)=\\\"imageLoadedInView()\\\"\\n    (mousedown)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (touchstart)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (error)=\\\"loadImageError($event)\\\"\\n  >\\n  <div\\n    class=\\\"ngx-ic-overlay\\\"\\n    [style.width.px]=\\\"state.maxSize?.width || 0\\\"\\n    [style.height.px]=\\\"state.maxSize?.height || 0\\\"\\n    [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n  ></div>\\n  <div\\n    class=\\\"ngx-ic-cropper\\\"\\n    *ngIf=\\\"imageVisible\\\"\\n    [class.ngx-ic-round]=\\\"state.options.roundCropper\\\"\\n    [attr.aria-label]=\\\"state.options.cropperFrameAriaLabel\\\"\\n    [style.top.px]=\\\"state.cropper.y1\\\"\\n    [style.left.px]=\\\"state.cropper.x1\\\"\\n    [style.width.px]=\\\"state.cropper.x2 - state.cropper.x1\\\"\\n    [style.height.px]=\\\"state.cropper.y2 - state.cropper.y1\\\"\\n    [style.margin-left]=\\\"state.options.alignImage === 'center' ? marginLeft : null\\\"\\n    [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n    (keydown)=\\\"keyboardAccess($event)\\\"\\n    tabindex=\\\"0\\\"\\n  >\\n    <div\\n      (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\n      (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\n      class=\\\"ngx-ic-move\\\"\\n      role=\\\"presentation\\\">\\n    </div>\\n    <ng-container\\n      *ngIf=\\\"!state.options.hideResizeSquares && !(state.options.cropperStaticWidth && state.options.cropperStaticHeight)\\\">\\n      <span\\n        class=\\\"ngx-ic-resize ngx-ic-topleft\\\"\\n        role=\\\"presentation\\\"\\n        (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n        (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n      >\\n        <span class=\\\"ngx-ic-square\\\"></span>\\n      </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-top\\\">\\n        <span class=\\\"ngx-ic-square\\\"></span>\\n      </span>\\n      <span\\n        class=\\\"ngx-ic-resize ngx-ic-topright\\\"\\n        role=\\\"presentation\\\"\\n        (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n        (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n      >\\n        <span class=\\\"ngx-ic-square\\\"></span>\\n      </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-right\\\">\\n        <span class=\\\"ngx-ic-square\\\"></span>\\n      </span>\\n      <span\\n        class=\\\"ngx-ic-resize ngx-ic-bottomright\\\"\\n        role=\\\"presentation\\\"\\n        (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n        (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n      >\\n        <span class=\\\"ngx-ic-square\\\"></span>\\n      </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottom\\\">\\n        <span class=\\\"ngx-ic-square\\\"></span>\\n      </span>\\n      <span\\n        class=\\\"ngx-ic-resize ngx-ic-bottomleft\\\"\\n        role=\\\"presentation\\\"\\n        (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n        (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n      >\\n        <span class=\\\"ngx-ic-square\\\"></span>\\n      </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-left\\\">\\n        <span class=\\\"ngx-ic-square\\\"></span>\\n      </span>\\n      <span\\n        class=\\\"ngx-ic-resize-bar ngx-ic-top\\\"\\n        role=\\\"presentation\\\"\\n        (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n        (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n      ></span>\\n      <span\\n        class=\\\"ngx-ic-resize-bar ngx-ic-right\\\"\\n        role=\\\"presentation\\\"\\n        (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n        (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n      ></span>\\n      <span\\n        class=\\\"ngx-ic-resize-bar ngx-ic-bottom\\\"\\n        role=\\\"presentation\\\"\\n        (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n        (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n      ></span>\\n      <span\\n        class=\\\"ngx-ic-resize-bar ngx-ic-left\\\"\\n        role=\\\"presentation\\\"\\n        (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n        (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n      ></span>\\n    </ng-container>\\n  </div>\\n</div>\\n\",\n      styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.ngx-ic-source-image{max-width:100%;max-height:100%;transform-origin:center}:host>div img.ngx-ic-source-image.ngx-ic-draggable{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}:host .ngx-ic-overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .ngx-ic-cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .ngx-ic-cropper{outline-width:100vh}}:host .ngx-ic-cropper:after{position:absolute;content:\\\"\\\";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .ngx-ic-cropper .ngx-ic-move{width:100%;cursor:move;border:var(--cropper-move-border, 1px solid rgba(255, 255, 255, .5))}:host .ngx-ic-cropper:focus .ngx-ic-move{border-color:#1e90ff;border-width:2px}:host .ngx-ic-cropper .ngx-ic-resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize .ngx-ic-square{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topright{top:-12px;right:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar{position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper.ngx-ic-round{outline-color:transparent}:host .ngx-ic-cropper.ngx-ic-round:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .ngx-ic-cropper.ngx-ic-round:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .ngx-ic-cropper.ngx-ic-round .ngx-ic-move{border-radius:100%}:host.disabled .ngx-ic-cropper .ngx-ic-resize,:host.disabled .ngx-ic-cropper .ngx-ic-resize-bar,:host.disabled .ngx-ic-cropper .ngx-ic-move{display:none}:host.ngx-ic-hidden{display:none}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: i1.DomSanitizer\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    wrapper: [{\n      type: ViewChild,\n      args: ['wrapper', {\n        static: true\n      }]\n    }],\n    sourceImage: [{\n      type: ViewChild,\n      args: ['sourceImage', {\n        static: false\n      }]\n    }],\n    imageChangedEvent: [{\n      type: Input\n    }],\n    imageURL: [{\n      type: Input\n    }],\n    imageBase64: [{\n      type: Input\n    }],\n    imageFile: [{\n      type: Input\n    }],\n    imageAltText: [{\n      type: Input\n    }],\n    options: [{\n      type: Input\n    }],\n    cropperFrameAriaLabel: [{\n      type: Input\n    }],\n    output: [{\n      type: Input\n    }],\n    format: [{\n      type: Input\n    }],\n    autoCrop: [{\n      type: Input\n    }],\n    cropper: [{\n      type: Input\n    }],\n    transform: [{\n      type: Input\n    }],\n    maintainAspectRatio: [{\n      type: Input\n    }],\n    aspectRatio: [{\n      type: Input\n    }],\n    resetCropOnAspectRatioChange: [{\n      type: Input\n    }],\n    resizeToWidth: [{\n      type: Input\n    }],\n    resizeToHeight: [{\n      type: Input\n    }],\n    cropperMinWidth: [{\n      type: Input\n    }],\n    cropperMinHeight: [{\n      type: Input\n    }],\n    cropperMaxHeight: [{\n      type: Input\n    }],\n    cropperMaxWidth: [{\n      type: Input\n    }],\n    cropperStaticWidth: [{\n      type: Input\n    }],\n    cropperStaticHeight: [{\n      type: Input\n    }],\n    canvasRotation: [{\n      type: Input\n    }],\n    initialStepSize: [{\n      type: Input\n    }],\n    roundCropper: [{\n      type: Input\n    }],\n    onlyScaleDown: [{\n      type: Input\n    }],\n    imageQuality: [{\n      type: Input\n    }],\n    backgroundColor: [{\n      type: Input\n    }],\n    containWithinAspectRatio: [{\n      type: Input\n    }],\n    hideResizeSquares: [{\n      type: Input\n    }],\n    allowMoveImage: [{\n      type: Input\n    }],\n    checkImageType: [{\n      type: Input\n    }],\n    alignImage: [{\n      type: Input\n    }],\n    disabled: [{\n      type: HostBinding,\n      args: ['class.disabled']\n    }, {\n      type: Input\n    }],\n    hidden: [{\n      type: HostBinding,\n      args: ['class.ngx-ic-hidden']\n    }, {\n      type: Input\n    }],\n    imageCropped: [{\n      type: Output\n    }],\n    startCropImage: [{\n      type: Output\n    }],\n    imageLoaded: [{\n      type: Output\n    }],\n    cropperReady: [{\n      type: Output\n    }],\n    loadImageFailed: [{\n      type: Output\n    }],\n    transformChange: [{\n      type: Output\n    }],\n    cropperChange: [{\n      type: Output\n    }],\n    alignImageStyle: [{\n      type: HostBinding,\n      args: ['style.text-align']\n    }],\n    onResize: [{\n      type: HostListener,\n      args: ['window:resize']\n    }]\n  });\n})();\nfunction base64ToFile(base64Image) {\n  const split = base64Image.split(',');\n  const type = split[0].replace('data:', '').replace(';base64', '');\n  const byteString = atob(split[1]);\n  const ab = new ArrayBuffer(byteString.length);\n  const ia = new Uint8Array(ab);\n  for (let i = 0; i < byteString.length; i += 1) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ab], {\n    type\n  });\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CropService, ImageCropperComponent, LoadImageService, base64ToFile, resizeCanvas };\n"],
  "mappings": "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",
  "names": ["MoveTypes"]
}
